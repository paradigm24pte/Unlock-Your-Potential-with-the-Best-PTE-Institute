(("undefined"!=typeof self?self:this).webpackJsonp__wix_communities_blog_ooi=("undefined"!=typeof self?self:this).webpackJsonp__wix_communities_blog_ooi||[]).push([[6224],{22448:(e,s,i)=>{"use strict";i.d(s,{KB:()=>l,MU:()=>r,zW:()=>a});var t=i(17607),n=i(95946),o=i(91049);const r=e=>decodeURIComponent(e).replace(/\.hash\./g,"#"),l=(e,{newPath:s=!1}={})=>{const i=(0,t.trimStart)(e,"#"),n=s?i:`#${i}`;return(0,o.hH)(s?`/hashtags/${encodeURIComponent(n)}`:`/search/${r=n,encodeURIComponent(r.toLowerCase().replace(/#/g,".hash."))}`);var r},a=(e,s,{newPath:i=!1}={})=>(0,n.S)(l(e,{newPath:i}),s)},15504:(e,s,i)=>{"use strict";i.d(s,{Z:()=>o});var t=i(36991),n=i(69679);const o=e=>(0,n.$j)((e=>({videoHost:(0,t.np)(e),imageHost:(0,t.Oh)(e)})))(e)},12524:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>he});var t=i(27762),n=i.n(t),o=i(17607),r=i(54480),l=i(92281),a=i(94974),g=i(40982),p=i(99478),u=i(36199),d=i(39804),c=i(28604),h=i(72001),m=i(94085),f=i(62094),P=i(53684),b=i(6567),w=i(88671),R=i(61690),C=i(77501),q=i(9834),_=i(52843),v=i(46236),x=i(57637),j=i(6106),E=i(49623),D=i(76670),S=i(73871),T=i(23069),U=i(89213),B=i(36991),y=i(34327),L=i(27628),I=i(92113),H=i(96221),F=i(60216),k=i.n(F),V=i(95685),M=i.n(V),A=i(63978);var W=i(22448),G=i(96053),N=i(82198),Z=i(61105),O=i(51064),z=i(11597);const $="moHCnT",J="fTEXDR";class K extends n().PureComponent{constructor(e){super(e),this.state={error:!1},this.getImagePluginConfig=()=>({imageProps:e=>({"data-pin-url":this.props.pageUrl,"data-pin-media":(0,o.isString)(e)?e:(0,A.Jn)({image:e,maxWidth:5e3,maxHeight:5e3})})}),this.getGalleryPluginConfig=()=>{const{isInEditor:e,Wix:s}=this.props;return{imageProps:()=>({"data-pin-url":this.props.pageUrl}),scrollingElement:e?{addEventListener:(e,i)=>{s.addEventListener(e.toUpperCase(),i)},removeEventListener:(e,i)=>{s.removeEventListener(e.toUpperCase(),i)}}:"undefined"!=typeof window&&window}},this.getTextColorPluginConfig=()=>{const{appSettings:e,isHexColor:s}=this.props,i=(0,O.LU)({appSettings:e});return{customStyleFn:(0,O.py)(i,{isHexColor:s}),styleSelectionPredicate:(0,O.Pg)(i,{isHexColor:s})}},this.getTextHighlightPluginConfig=()=>{const{appSettings:e,isHexColor:s}=this.props,i=(0,O.LU)({appSettings:e});return{customStyleFn:(0,O.CH)(i,{isHexColor:s}),styleSelectionPredicate:(0,O.Pg)(i,{isHexColor:s})}},this.getLinkPreviewPluginConfig=()=>({enableEmbed:!0,enableLinkPreview:!1}),this.getHashtagPluginConfig=()=>{const{hashtagNavigate:e,sectionUrl:s}=this.props;return{onClick:s=>{s.preventDefault(),s.stopPropagation(),e((0,W.KB)(s.target.innerText,{newPath:this.props.isHashtagPageAsFeedPageEnabled}))},createHref:e=>(0,W.zW)(e,s,{newPath:this.props.isHashtagPageAsFeedPageEnabled})}},this.getActionButtonPluginConfig=()=>({onClick:this.props.onButtonClick}),this.getFileDownloadBIProps=(e,s)=>{const{postId:i,isDemoPost:t}=this.props;return{file_ext:e.type,file_id:e.id,file_size:e.size,mime_type:e.mimeType,post_stable_id:i,is_demo:t,origin:"post",success:s}},this.getFilePluginConfig=()=>{const{postId:e,bi:s,actions:i,metasiteId:t,instance:n,resolveFileUrl:o}=this.props;return{resolveFileUrl:r=>("undefined"!=typeof navigator&&/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&i.showMessage(N.OM),o?o(t,n)(r).then((e=>(s.fileDownloaded(this.getFileDownloadBIProps(r,!0)),e))).catch((()=>s.fileDownloaded(this.getFileDownloadBIProps(r,!1)))):i.requestFileDownloadUrl(e,r.path,r.id,r.mimeType).then((({url:e})=>(s.fileDownloaded(this.getFileDownloadBIProps(r,!0)),e))).catch((()=>s.fileDownloaded(this.getFileDownloadBIProps(r,!1)))))}},this.getPollSettings=()=>({onBeforeVote:({voteRole:e})=>{const{currentUser:s,actions:i,isBusinessManager:t}=this.props;return new Promise(((n,o)=>t?o():s||"ALL"===e?n():void i.requestLogin().then(n,o)))}}),this.getPlugins=()=>[this.props.pluginAudio(),this.props.pluginCodeBlock(),this.props.pluginDivider(),this.props.pluginLinkButton(),this.props.pluginGallery(this.getGalleryPluginConfig()),this.props.pluginGiphy(),this.props.pluginHashtag(this.getHashtagPluginConfig()),this.props.pluginHtml(),this.props.pluginImage(this.getImagePluginConfig()),this.props.pluginLineSpacing(),this.props.pluginIndent(),this.props.pluginLink(),...this.props.isRicosEmbedButtonsEnabled?[this.props.pluginLinkPreview(this.getLinkPreviewPluginConfig())]:[],this.props.pluginTextColor(this.getTextColorPluginConfig()),this.props.pluginTextHighlight(this.getTextHighlightPluginConfig()),this.props.pluginVideo(),this.props.pluginFileUpload(this.getFilePluginConfig()),this.props.pluginActionButton(this.getActionButtonPluginConfig()),this.props.pluginVerticalEmbed(),this.props.pluginTable(),this.props.pluginCollapsibleList(),...this.props.pluginPoll?[this.props.pluginPoll(this.getPollSettings())]:[]],this.onError=e=>{this.state.error||this.setState({error:e})},this.wixExperiments={all:()=>e.experiments}}render(){if(this.state.error)return this.props.fallback();const{WixRicosViewer:e,content:s,rceVersion:i,theme:t={},getStyle:o,isCompact:r,appSettings:l,section:a,isBusinessManager:g,isSeo:p,isMobile:u,locale:d,isPostPageBundle:c,instance:h,postId:m,parentClass:f,setViewerRef:P,baseUrl:b,iframeSandboxDomain:w,shouldApplyPostDesignInFeed:R}=this.props,C=c,q=this.getPlugins(),_=(0,z.U)({appSettings:l,isPostPage:C,isMobile:u,section:a,parentClass:f,shouldApplyPostDesignInFeed:R}),v=o(l),x=M()(J);return n().createElement("div",{className:$},n().createElement("div",{style:v,ref:P,className:x,"data-rce-version":i},n().createElement(e,{plugins:q,content:s,theme:{..._,...t},locale:d,instance:h,onError:this.onError,isMobile:u,seoSettings:p,linkSettings:G.Z,wixExperiments:this.wixExperiments,addAnchors:!0,baseUrl:b,iframeSandboxDomain:w,biSettings:{consumer:"Blog",contentId:m,platform:g?"BM":"Livesite",usage:r?"Comment":C?"Post":a}})))}}K.propTypes={WixRicosViewer:k().elementType.isRequired,pluginAudio:k().func.isRequired,pluginCodeBlock:k().func.isRequired,pluginDivider:k().func.isRequired,pluginLinkButton:k().func.isRequired,pluginGallery:k().func.isRequired,pluginGiphy:k().func.isRequired,pluginHashtag:k().func.isRequired,pluginHtml:k().func.isRequired,pluginImage:k().func.isRequired,pluginLineSpacing:k().func.isRequired,pluginIndent:k().func.isRequired,pluginLink:k().func.isRequired,pluginLinkPreview:k().func.isRequired,pluginTextColor:k().func.isRequired,pluginTextHighlight:k().func.isRequired,pluginVideo:k().func.isRequired,pluginFileUpload:k().func.isRequired,pluginActionButton:k().func.isRequired,pluginVerticalEmbed:k().func.isRequired,pluginTable:k().func.isRequired,pluginCollapsibleList:k().func.isRequired,pluginPoll:k().func,postId:k().string.isRequired,content:k().object.isRequired,rceVersion:k().string.isRequired,parentClass:k().string,theme:k().object,getStyle:k().func.isRequired,isBusinessManager:k().bool,isCompact:k().bool.isRequired,appSettings:k().object.isRequired,isSeo:k().bool.isRequired,isInEditor:k().bool,isMobile:k().bool.isRequired,locale:k().string.isRequired,isPostPageBundle:k().bool.isRequired,instance:k().string.isRequired,metasiteId:k().string.isRequired,pageUrl:k().string.isRequired,isHexColor:k().func.isRequired,hashtagNavigate:k().func.isRequired,baseUrl:k().string,section:k().string.isRequired,sectionUrl:k().string.isRequired,onButtonClick:k().func,disableTheme:k().bool,isHashtagPageAsFeedPageEnabled:k().bool,isRicosEmbedButtonsEnabled:k().bool,Wix:k().object.isRequired,experiments:k().object.isRequired,setViewerRef:k().func.isRequired,isDemoPost:k().bool,shouldApplyPostDesignInFeed:k().bool,resolveFileUrl:k().func.isRequired},K.defaultProps={isCompact:!1,isBusinessManager:!1,fallback:()=>"Content cannot be displayed",getStyle:Z.ZP};const X=K;class Q extends n().Component{constructor(){super(...arguments),this.state={viewerRef:null},this.setViewerRef=e=>this.setState({viewerRef:e})}render(){const{isMobile:e,TextSelectionToolbar:s,TwitterButton:i,isTwitterEnabled:t}=this.props;return n().createElement("div",{className:$},n().createElement(X,{...this.props,setViewerRef:this.setViewerRef}),t&&!e?n().createElement(s,{container:this.state.viewerRef},(e=>n().createElement(i,{selectedText:e}))):null)}}Q.propTypes={TextSelectionToolbar:k().elementType.isRequired,TwitterButton:k().elementType.isRequired,isMobile:k().bool.isRequired,isTwitterEnabled:k().bool};const Y=Q;var ee=i(69679),se=i(68925),ie=i(15504),te=i(45796),ne=i(76393),oe=i(67700),re=i(11324),le=i(55920),ae=i(97097),ge=i(47029),pe=i(7086),ue=i(53831),de=i(83189);const ce=e=>{let{initialRawState:s,requestFileDownloadUrl:i,requestLogin:t,showMessage:o,fileDownloaded:B,isDemoPost:y,baseUrl:L,...I}=e;const H={...I,WixRicosViewer:U.w6,pluginAudio:g.r,pluginCodeBlock:u.x,pluginDivider:c.p,pluginLinkButton:p.j1,pluginGallery:m.p,pluginGiphy:f.w,pluginHashtag:P.c,pluginHtml:b.p,pluginImage:w.p,pluginLineSpacing:C.L,pluginIndent:R.i,pluginLink:q.u,pluginLinkPreview:_.i,pluginTable:x.r,pluginTextColor:j.V3,pluginTextHighlight:j.WN,pluginVideo:D.a,pluginFileUpload:h.E,pluginActionButton:p.$v,pluginVerticalEmbed:E.M,pluginCollapsibleList:d.v,pluginPoll:v.p,content:(0,r.e)(s,{ignoreUnsupportedValues:!0}),rceVersion:l.Z.currentVersion,isHexColor:a.K,TextSelectionToolbar:S.Z,TwitterButton:T.Z,Wix:ge.Z,isDemoPost:y,actions:{requestFileDownloadUrl:i,requestLogin:t,showMessage:o},bi:{fileDownloaded:B}};return n().createElement(Y,H)};ce.defaultProps={disableTheme:!0};const he=(0,o.flowRight)((0,ee.$j)(((e,s,i)=>({appSettings:(0,te.hO)(e),isSeo:(0,pe.D9)(e),isInEditor:(0,pe.hz)(e),isInPreview:(0,pe.JF)(e),isPostPageBundle:(0,B.GB)(e),locale:(0,re.Kd)(e),postId:(0,y.F)(s.post),instance:(0,pe.s8)(e),pageUrl:(0,pe.Gr)(e),hashtagNavigate:i.navigateWithinBlog,baseUrl:(0,de.SV)(e),section:(0,ae.I)(e),sectionUrl:(0,de.Uc)(e),iframeSandboxDomain:(0,le.U)(e),requestFileDownloadUrl:i.requestFileDownloadUrlPromisified,requestLogin:i.requestLoginPromisified,currentUser:(0,L.ts)(e),showMessage:i.showMessage,fileDownloaded:i.fileDownloaded,isHashtagPageAsFeedPageEnabled:(0,I.X)(e,H.EL),isRicosEmbedButtonsEnabled:(0,I.X)(e,H._q),isTwitterEnabled:(0,ne.Mw)(e),experiments:(0,I.g)(e),isDemoPost:(0,o.get)(s,"post.isDemo",!1),shouldApplyPostDesignInFeed:(0,oe.R)(e),metasiteId:(0,ue.LC)(e)}))),se.Z,ie.Z)(ce)},23731:(e,s,i)=>{var t={"./messages_ar.json":[47652,1247],"./messages_bg.json":[84442,7474],"./messages_ca.json":[35017,3845],"./messages_cs.json":[70468,8264],"./messages_da.json":[77966,9618],"./messages_de.json":[44182,1957],"./messages_el.json":[17872,9661],"./messages_en.json":[79814,6146],"./messages_es.json":[72160,6897],"./messages_fi.json":[77664,220],"./messages_fr.json":[71398,3588],"./messages_he.json":[57033,8790],"./messages_hi.json":[12685,8081],"./messages_hu.json":[34551,7424],"./messages_id.json":[11426,8589],"./messages_it.json":[69497,2032],"./messages_ja.json":[21685,6305],"./messages_ko.json":[95926,564],"./messages_lt.json":[39913,9315],"./messages_ms.json":[80881,184],"./messages_nl.json":[98687,7817],"./messages_no.json":[51228,2437],"./messages_pl.json":[40184,6753],"./messages_pt.json":[59915,6147],"./messages_ro.json":[48095,9497],"./messages_ru.json":[67845,5062],"./messages_sk.json":[35267,2045],"./messages_sl.json":[31396,793],"./messages_sv.json":[1091,6718],"./messages_th.json":[47848,3178],"./messages_tl.json":[21576,978],"./messages_tr.json":[61784,9882],"./messages_uk.json":[41453,962],"./messages_vi.json":[44760,7268],"./messages_zh.json":[67852,7106]};function n(e){if(!i.o(t,e))return Promise.resolve().then((()=>{var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}));var s=t[e],n=s[0];return i.e(s[1]).then((()=>i.t(n,19)))}n.keys=()=>Object.keys(t),n.id=23731,e.exports=n}}]);
//# sourceMappingURL=rich-content-viewer.chunk.min.js.map